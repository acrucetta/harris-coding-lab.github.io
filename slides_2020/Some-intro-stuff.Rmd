---
title: "Coding Lab: `Why code?` and getting situated"
author: "Ari Anisfeld, Terrence Chau"
date: "08/1/2020"
output:
  ioslides_presentation
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
```

<--! Coding lab is 6 lessons -->

## Agenda

- Why are we here?
- Getting situated: installing R and Rstudio
- Getting situated: installing packages and the `tidyverse`

## Why coding lab?

Many public policy jobs and the Harris curriculum rely on programming
- to quickly engage with policy data
- to complete statistical analyses

## Why R? 

- Great data manipulation and visualization suite
- Strong statistical packages (e.g. program evaluation, machine learning)
- Open source and free
- Complete programming language with low barriers to entry

## An example

TODO: Find a quick policy relevant example here.


## What will we cover?

TODO: Make a graphic.

Foundations:
1. Reading files, and manipulating data
1. Learn basic syntax, operators and data structures
1. If statements
1. Basic graph making
1. Loops  (in fall)
1. Functions (in fall)

In stats 1 and other courses, you will build off of these lessons
- extend your capabilities with the functions we teach you
- introduce statistics functions
- introduce new packages etc.

## How will we progress?



1. Video lectures
1. Practice in labs (most important part)
  - You learn coding by coding.
  - Break up into small groups and work on problems with peer and TA support
1. Q and A
  - Please send me questions ahead of class
  - May include additional practice problems.
  
1. Final project:
  - Pick a data set aligned with your policy interests
  - Use programming skills to engage with data and make a data visualization 
     showing something you learned from the data.
  - 




[https://harris-coding-lab.github.io/](https://harris-coding-lab.github.io/)

## Finding help with `?`

```{r, eval=FALSE}
?sum
```

- Description

`sum returns the sum of all the values present in its arguments.`

- Usage 

`sum(..., na.rm = FALSE)`

- Arguments

`...	numeric or complex or logical vectors.`

- Examples (scroll down!)

`sum(1, 2, 3, 4, 5)`

<div class="notes">
Do in R if easy enough. Highlight that while it's complicated if they
understand the structure of help docs they can get far.
</div>


## what are packages?

A package makes a new set of functions available to you. 

Benefits:
- Don't need to code everything from scratch
- Often functions are optimized using C or C++ code to speed up certain steps.

```
Analogy:
- base R comes with screw drivers and hand saws.
- packages give you power tools
```




## installing and loading packages

To use a package we need to:

- install it once from the internet

```{r, eval=FALSE}
install.packages("readxl") 
```

- load it *each time* we restart R

```{r, eval=FALSE}
library(readxl)
read_xlsx("some_data.xls")
```

- `package::command()` lets you call a function without loading the library

```{r, eval=FALSE}
readxl::read_xlsx("some_data.xls")
```


<div class="notes">
Potentially worth pointing out: Names of functions are important. library is a bad name!
</div>


## common package error

The package 'haven' provides a function to read dta files called `read_dta()`.
What goes wrong here?
```{r, eval=FALSE}
install.packages("haven")
our_data <- read_dta("my_file.dta")
```
Error in read_dta("my_file.dta") : could not find function "read_dta"

## common package error
We need to load the package using `library()`!
```{r, eval=FALSE}
library(haven)
our_data <- read_dta("my_file.dta")
```


## `tidyverse`: set of useful packages

Think of the `tidyverse` packages providing a new dialect for R.

```{r, eval=FALSE}
library(tidyverse)
```

```
── Attaching packages ──
───── tidyverse 1.2.1 ──
✔ ggplot2 3.1.0     ✔ purrr   0.3.0
✔ tibble  2.0.1     ✔ dplyr   0.8.3
✔ tidyr   0.8.2     ✔ stringr 1.3.1
✔ readr   1.3.1     ✔ forcats 0.3.0
── Conflicts ──────────
──── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
```